<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>互联网架构演变过程 | 2025：明伟的学习笔记</title><meta name="author" content="然后"><meta name="copyright" content="然后"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="互联网架构演变过程1从业务，应用，数据，部署说一下自己的项目  业务架构单体模式早期系统多以单体业务为主，逐个业务线扩张。系统也多呈现为多个mvc独立运行状态。各自打各自的。 以电商为例，可能按B2B，B2C，C2C不断扩张，每个业务一套系统，每个系统一个维护团队。   方案代理层设置不同的二级域名，如b2b.abc.com，b2c.abc.com，分发给不同的服务器 特点粒度较粗：纯以业务为导向">
<meta property="og:type" content="article">
<meta property="og:title" content="互联网架构演变过程">
<meta property="og:url" content="http://xitaiye.github.io.git/2025/01/03/34.%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B/index.html">
<meta property="og:site_name" content="2025：明伟的学习笔记">
<meta property="og:description" content="互联网架构演变过程1从业务，应用，数据，部署说一下自己的项目  业务架构单体模式早期系统多以单体业务为主，逐个业务线扩张。系统也多呈现为多个mvc独立运行状态。各自打各自的。 以电商为例，可能按B2B，B2C，C2C不断扩张，每个业务一套系统，每个系统一个维护团队。   方案代理层设置不同的二级域名，如b2b.abc.com，b2c.abc.com，分发给不同的服务器 特点粒度较粗：纯以业务为导向">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg">
<meta property="article:published_time" content="2025-01-03T00:00:00.000Z">
<meta property="article:modified_time" content="2025-01-03T00:00:00.000Z">
<meta property="article:author" content="然后">
<meta property="article:tag" content="架构">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://xitaiye.github.io.git/2025/01/03/34.%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '互联网架构演变过程',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-01-03 08:00:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avator.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/./img/java.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="2025：明伟的学习笔记"><img class="site-icon" src="/img/logo.png"/><span class="site-name">2025：明伟的学习笔记</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">互联网架构演变过程</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-03T00:00:00.000Z" title="发表于 2025-01-03 08:00:00">2025-01-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-01-03T00:00:00.000Z" title="更新于 2025-01-03 08:00:00">2025-01-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%9E%B6%E6%9E%84/">架构</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="互联网架构演变过程"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="互联网架构演变过程"><a href="#互联网架构演变过程" class="headerlink" title="互联网架构演变过程"></a>互联网架构演变过程</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">从业务，应用，数据，部署说一下自己的项目</span><br></pre></td></tr></table></figure>

<h2 id="业务架构"><a href="#业务架构" class="headerlink" title="业务架构"></a>业务架构</h2><h3 id="单体模式"><a href="#单体模式" class="headerlink" title="单体模式"></a>单体模式</h3><p>早期系统多以单体业务为主，逐个业务线扩张。系统也多呈现为多个mvc独立运行状态。各自打各自的。</p>
<p>以电商为例，可能按B2B，B2C，C2C不断扩张，每个业务一套系统，每个系统一个维护团队。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103151956016.png" alt="image-20250103151956016"></p>
<ol>
<li>方案<br>代理层设置不同的二级域名，如b2b.abc.com，b2c.abc.com，分发给不同的服务器</li>
<li>特点<br>粒度较粗：纯以业务为导向，往往形成业务团队各自为战，新业务线出现时疯狂扩张<br>重复开发：相同功能可能在不同业务的项目中被重复开发，比如短信发送、支付、财务统计</li>
</ol>
<h3 id="中台战略"><a href="#中台战略" class="headerlink" title="中台战略"></a>中台战略</h3><h4 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h4><p>中台在2015由阿里提出，其实是阿里共享业务技术部的成型过程。<br>中台是一种企业架构而不是单纯的技术层面，目前几乎各大电商都进行着中台化的建设。中台不是什么新奇东西，实际上是“共享“理念在业务、系统、组织架构上的一种落地与实施。关键词：共享、节约成本、协作</p>
<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><p>单体业务模式带来很多问题：</p>
<ol>
<li>技术架构上：<ul>
<li>有些相同功能，各个团队重复建设和维护带来的重复投资</li>
<li>业务系统间的集成和协作成本高昂</li>
<li>不利于基础性业务的沉淀和持续发展</li>
</ul>
</li>
<li>组织架构上：<ul>
<li>部门在单体模式下往往每个项目一个团队。团队跟随项目疯狂扩展，利用率低。</li>
</ul>
</li>
<li>中台类比之下：<ul>
<li>中台模式下，基础业务也下沉到技术部门，甚至通过技术反推业务正向发展。</li>
<li>下层业务，变化不大的业务持续沉淀，接口像滚雪球一样越来越完善 </li>
<li>上层业务，跟业务模式和运营产品有关的系统变化迅速，对底层接口封装组合即可</li>
</ul>
</li>
</ol>
<h4 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h4><p>以经典电商中台划分为例：</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103152704791.png" alt="image-20250103152704791"></p>
<ol>
<li>业务中台</li>
</ol>
<p>​	业务中台基于公共服务的沉淀，需要积累一些基础的业务服务。这些服务在 B2B，B2C 等系统中都会具备，是相同的。</p>
<ul>
<li>商品中心：商品、类目、sku、spu</li>
<li>交易中心：订单、状态流转、条目、支付</li>
<li>营销中心：促销、优惠券、活动</li>
<li>会员中心：账户、基本信息、收发货地址、商铺商家信息</li>
<li>仓储中心：仓库、库存</li>
<li>物流中心：发货信息、自主物流或外部物流对接</li>
</ul>
<ol start="2">
<li>技术中台</li>
</ol>
<p>与业务无关的基础沉淀，技术类内容可以在各个团队之间共享。</p>
<ul>
<li>基础架构：核心类库、公共框架、基础服务、服务治理框架</li>
<li>中间件：分布式缓存、分布式消息、数据存储（db，nosql）、分布式文件、分布式调度</li>
<li>自动化运维：监控中心、资源管理、配置中心、发布中心、日志平台</li>
<li>自动化测试：任务协同、基础测试、性能测试、接口测试、持续集成</li>
</ul>
<p>（有的公司会抽取一个运维中台，将开发层和系统层的内容分开）</p>
<ol start="3">
<li><p>数据中台<br>数据中台不是数据平台，也不是数据仓库，这三者是有区别的。</p>
<p>举个例子：数据平台可以理解为数据库，数据仓库类比为报表。<br>而数据中台更贴近上层业务，带着业务属性。同样以接口形式为其他上层各个业务线提供持续调用。</p>
</li>
</ol>
<ul>
<li>数据抽取：从db，nosql，日志等各个来源提供抽取接口</li>
<li>数据接口：为上层业务提供需要的定制化业务数据接口</li>
<li>数据分析：行业分析与决策、数据驱动运营</li>
<li>人工智能：用户画像、商品推荐</li>
<li>可视化：数据大屏、信息展示、活动报表等</li>
</ul>
<ol start="4">
<li>服务接入层</li>
</ol>
<p>即大中台，小前台的前台，电商中直面用户的B2B,B2C等各个业务线。</p>
<ul>
<li>现有的业务模式、流程等根据市场及时调整，变化非常快。</li>
<li>新的业务线可以被快速实现，不需要再重复开发底层的中台业务，调取中台接口组装即可。</li>
</ul>
<h3 id="总结与思考"><a href="#总结与思考" class="headerlink" title="总结与思考"></a>总结与思考</h3><ul>
<li>单体业务模式容易引发什么问题？ 1. 重复 2.数据不共享</li>
<li>中台化的理念是什么？带来哪些挑战？共享，不适合小项目</li>
</ul>
<h2 id="数据架构"><a href="#数据架构" class="headerlink" title="数据架构"></a>数据架构</h2><h3 id="单数据库"><a href="#单数据库" class="headerlink" title="单数据库"></a>单数据库</h3><p>早在2003-2004淘宝V1.0就使用mysql，V1.1换成oracle，直到2007数据库重新往mysql回迁。这个阶段往往引发追逐商业大型db如oracle（淘宝v1.1 ， mysql→oracle）</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103153924142.png" alt="image-20250103153924142"></p>
<ol>
<li>方案</li>
</ol>
<p>java web项目直接通过jdbc，连接单一的数据库，读写扎堆在一块，单库上的机器io及cpu性能很快达到上限<br>数据库：mysql、oracle、sqlserver、db2等（课题：mysql性能调优）<br>持久层框架：jdbc，hibernate，jpa，mybatis（课题：mybatis源码剖析）</p>
<h3 id="主从读写"><a href="#主从读写" class="headerlink" title="主从读写"></a>主从读写</h3><p>淘宝从oracle换回mysql的历程中实现了主从库部署与读写分离。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103154104145.png" alt="image-20250103154104145"></p>
<ol>
<li>方案</li>
</ol>
<p>java web应用层连接多个数据库，数据库之间形成主从关系，主库上写，从库上读。读写压力被分散数据库集群：一主多从、双主单写（课题：mysql千亿级数量线上扩容实战）<br>应用层开发：多数据源支持，spring multi datasource<br>中间件：Sharding-JDBC（课题：分库分表下每天亿级订单生成的痛点与架构），Mycat，Atlas</p>
<ol start="2">
<li>特点</li>
</ol>
<p>数据延迟：从主库到从库之间数据需要经过网络传输，不可避免的有延迟</p>
<p>开发层面：需要开发框架具备多数据源的支持，以及自动化的数据源切换</p>
<p>单库瓶颈：业务越来越多，表数量越来越多。出现单个库几百张表的现象</p>
<p>数据局限：依然无法解决单表大数据的问题，比如订单积累达到亿级，即使在从库，关联查询依然奇慢无比</p>
<h3 id="分库分表"><a href="#分库分表" class="headerlink" title="分库分表"></a>分库分表</h3><p>2004-2007，淘宝V2.1，分库。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103154308605.png" alt="image-20250103154308605"></p>
<ol>
<li>方案</li>
</ol>
<p>主从库的写入依然是有一个统一的主库入口。随着业务量的提升，继续细粒度化拆分</p>
<p>业务分库：订单库，产品库，活动库，会员库</p>
<p>横向分表：（拆记录）3个月内订单，半年内订单，更多订单</p>
<p>纵向分表：（拆字段）name、phone一张表，info、address一张表，俩表id一致</p>
<p>（课题：每天千万级订单的生成背后痛点及技术突破）</p>
<ol start="2">
<li>特点</li>
</ol>
<p>分库：不同的数据库，所以无法使用数据库事务，而分布式事务的效果并不理想，多采用幂等和最终一致性方案。</p>
<p>（课题：多服务之间分布式事务的一站解决，业务幂等性技术架构体系）</p>
<p>分表：拆了再聚合是一对矛盾，例如按下单时间维度的分表，需要按用户排序统计变得异常困难。</p>
<p>中间件：Sharding-JDBC，Mycat，Atlas</p>
<h3 id="高速缓存"><a href="#高速缓存" class="headerlink" title="高速缓存"></a>高速缓存</h3><p>2006-2007，淘宝V2.2架构，分布式缓存Tair引入。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103155720670.png" alt="image-20250103155720670"></p>
<ol>
<li>方案</li>
</ol>
<p>数据库往往是系统的瓶颈，根据数据的冷热划分，热点数据如类目、商品基础信息放在缓存中，其他数据延迟加载</p>
<p>ehcache：非分布式，简单，易维护，可用性一般</p>
<p>memcache：性能可靠，纯内存，客户端需要自己实现，无持久化</p>
<p>redis：性能可靠，纯内存，自带分片，集群，哨兵，支持持久化，几乎成为当前的标准方案<br>（课题：MTD巨头高性能缓存代理方案实战，Twemproxy高阶使用）</p>
<ol start="2">
<li>特点</li>
</ol>
<p>缓存策略：冷热数据的存放，缓存与db的边界需要架构师去把控，重度依赖可能引发问题<br>（memcache造成db高压案例；redis短信平台故障案例）</p>
<p>缓存陷阱：击穿（单一 key过期），穿透（不存在的 key），雪崩（多个 key 同时过期）</p>
<p>数据一致性：缓存和 db 之间因为同一份数据保存了两份，自然带来了一致性问题<br>（课题：redis高阶技术剖析）</p>
<h3 id="数据多样化"><a href="#数据多样化" class="headerlink" title="数据多样化"></a>数据多样化</h3><p> 一个网站中，数据库和缓存只是一种基本的存储手段，除了这些，随着网站架构的发展其他各种形式的存储结构相继涌现：</p>
<p>2006-2007，淘宝V2.2，分布式存储TFS，分布式缓存Tair，V3.0 加入 nosql Cassandra，搜索引擎升级</p>
<p>数据库全文检索→搜索引擎、本地上传+nfs→分布式文件系统的演进，方案后期均有深入讲解 </p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103161910839.png" alt="image-20250103161910839"></p>
<h4 id="分布式文件"><a href="#分布式文件" class="headerlink" title="分布式文件"></a>分布式文件</h4><p>商品图片，上传的文件等</p>
<p>hdfs：大数据下的分布式存储（课题：Apache Druid打造大数据实时监控系统，基于Flink的打车平台实时流数据分析）</p>
<p>fastdfs</p>
<p>ephFs（课题：无限容量云盘分布式存储技术方案ceph）</p>
<h4 id="nosql"><a href="#nosql" class="headerlink" title="nosql"></a>nosql</h4><p>redis 经典缓存，上节已介绍</p>
<p>mongodb（课题：mongodb海量数据生产扩容实战）</p>
<p>hbase</p>
<p>tidb（课题：TiDB亿级订单数据亚秒响应查询方案）</p>
<h4 id="搜索引擎"><a href="#搜索引擎" class="headerlink" title="搜索引擎"></a>搜索引擎</h4><p>搜索引擎：lucene，solr，elasticsearch（课题：电商终极搜索ElasticStack）</p>
<h4 id="架构特点"><a href="#架构特点" class="headerlink" title="架构特点"></a>架构特点</h4><ul>
<li>开发框架支持：存储的数据多样化，要求开发框架架构层面要提供多样化的支撑，并确保访问易用性</li>
<li>数据运维：多种数据服务器对运维的要求提升，机器的数据维护与灾备工作量加大</li>
<li>数据安全：多种数据存储的权限，授权与访问隔离需要注意</li>
</ul>
<h3 id="思考与思考"><a href="#思考与思考" class="headerlink" title="思考与思考"></a>思考与思考</h3><ul>
<li>常见的数据库有哪些？持久层框架呢？</li>
<li>什么是分库，什么是分表？分表有哪些分法？</li>
<li>缓存有哪些问题，各是什么样的场景？</li>
</ul>
<h2 id="应用架构"><a href="#应用架构" class="headerlink" title="应用架构"></a>应用架构</h2><h3 id="单机调优"><a href="#单机调优" class="headerlink" title="单机调优"></a>单机调优</h3><p>早年间的项目大多采用mvc开发。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103162616710.png" alt="image-20250103162616710"></p>
<ol>
<li>特点</li>
</ol>
<p>每个项目成一个mvc结构，部署在应用服务器上（tomcat、jboss、websphere，weblogic）。（课题：tomcat源码剖析）</p>
<p>随着业务扩张，需求迭代，项目变得越来越大，一个war包动辄几百兆。</p>
<p>崇尚调优，jvm单节点调优甚至接近于强迫症的地步。（课题：jvm性能调优）</p>
<h3 id="动静分离"><a href="#动静分离" class="headerlink" title="动静分离"></a>动静分离</h3><p>早年间的Apache+tomcat，后被nginx几乎一统江山。（前后端开发模式的演进：mvc页面嵌套→接口化）</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103162754393.png" alt="image-20250103162754393"></p>
<ol>
<li>方案</li>
</ol>
<p>静态响应：tomcat对静态文件响应一般，提取静态文件，直接由nginx响应</p>
<p>动态代理：后端api通过代理转发给tomcat应用机器</p>
<ol start="2">
<li>特点</li>
</ol>
<p>开发层面调整：项目结构要同步调整，由原来的一体化mvc转换为后端api+前端形式。</p>
<p>前后协调：前后端的分工变得更明确，互相并行开发，独立部署，但也带来了接口协调与约定等沟通问题</p>
<p>跨域问题：后段与前端如果域名不同，可能存在跨域问题（head头，jsonp等手段可以解决）。</p>
<h3 id="分布式"><a href="#分布式" class="headerlink" title="分布式"></a>分布式</h3><p>单纯的动静分离只解决了自己服务的项目结构，跨项目接口调用时，必须经过rest请求，不利于服务之间的交互。</p>
<p>淘宝V3.0，HSF出现，服务化导向，架构师忙于SOA和系统关系的梳理。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103163003277.png" alt="image-20250103163003277"></p>
<ol>
<li>方案</li>
</ol>
<p>公共服务：重复开发的基础服务提取出来，形成服务中心，避免重复造轮子，降低成本，架构团队出现。</p>
<p>独立性：各自服务独立部署升级，粒度更细，低耦合，高内聚</p>
<p>SOA理念诞生：服务治理的范畴，重在服务之间的拆分与统一接口</p>
<ol start="2">
<li>技术手段</li>
</ol>
<p>异步化：</p>
<p>rabbitmq （课题：滴滴打车超时架构设计）</p>
<p>rocketmq（课题：滴滴打车排队原理与剖析）</p>
<p>kafka （课题：海量订单数据同步）</p>
<p>Rpc：</p>
<p>dubbo （课题：dubbo核心源码剖析，zookeeper源码剖析）</p>
<p>Rpc框架（课题：Rpc核心源码与手写Rpc，netty通信与进阶）</p>
<ol start="3">
<li>特点</li>
</ol>
<p>界限把控：服务的粒度、拆分和公共服务提炼需要架构师的全局把控。设计不好容易引发混乱</p>
<p>部署升级：服务数量增多，人工部署变的不现实，必须借助自动化运维</p>
<p>（课题：高效运维篇，docker、k3s、jenkins、Apollo应用发布实战）</p>
<p>服务可用性：抽调的微服务因需要被多个上层业务共享，可用性等级变高，一旦down机就是灾难</p>
<p>熔断和限流：做好服务熔断和限流，提防服务单点瓶颈造成整个系统瘫痪。短信提醒失败不要影响下单。</p>
<p>（课题：cloud alibaba，sentinel限流）</p>
<h3 id="微服务"><a href="#微服务" class="headerlink" title="微服务"></a>微服务</h3><p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103173123595.png" alt="image-20250103173123595"></p>
<ol>
<li>方案</li>
</ol>
<p>微服务是基于SOA思想，将系统粒度进一步细化而诞生的一种手段</p>
<p>中台化得以实现，各个中心以及前端业务拆解为多个小的服务单元。</p>
<ol start="2">
<li>技术手段</li>
</ol>
<p>微服务经历了从1.0（cloud）到2.0的演化（service mesh），目前企业中主流的解决方案依然是cloud全家桶</p>
<p>springcloud （课题：springcloud微服务前沿技术栈，spring、springboot源码剖析）</p>
<ol start="3">
<li>特点</li>
</ol>
<p>服务拆分：粒度并非越小越好。太小会带来部署维护等一系列成本的上升。（课题：skywalking微服务监控）</p>
<p>接口约束：系统增多，各个服务接口的规范化日益重要，要求有统一的服务接口规范，推动企业消息总线的建设</p>
<p>权限约束：接口不是任意想调就可以调的，做好权限控制，借助oauth2等手段，实现服务之间的权限认证。</p>
<h3 id="总结与思考-1"><a href="#总结与思考-1" class="headerlink" title="总结与思考"></a>总结与思考</h3><ul>
<li>如何理解微服务与SOA，分布式的关系？</li>
<li>常用的分布式服务框架有哪些？</li>
</ul>
<h2 id="部署架构"><a href="#部署架构" class="headerlink" title="部署架构"></a>部署架构</h2><h3 id="单机器"><a href="#单机器" class="headerlink" title="单机器"></a>单机器</h3><p>小型网站，阿里云小项目还有人在用</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103173734387.png" alt="image-20250103173734387"></p>
<ol>
<li>方案</li>
</ol>
<p>单台机器的性能很快达到上限，就是所说的资源不足了</p>
<p>然后开始提升配置，推动高配机器的发展，成本高昂</p>
<ol start="2">
<li>特点</li>
</ol>
<p>部署简单：采用web包部署与发布，db等资源同台机器连接，简单易操作。（课题：tomcat源码剖析）</p>
<p>资源争夺：在业务发展的初始阶段尚可支撑，随着访问量的上升，单机性能很快会成为系统瓶颈。</p>
<h3 id="角色划分"><a href="#角色划分" class="headerlink" title="角色划分"></a>角色划分</h3><p>稍微大一点的系统，把数据库、缓存、消息等中间件剥离出去，单独机器来部署</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103173838669.png" alt="image-20250103173838669"></p>
<ol>
<li>方案</li>
</ol>
<p>多台机器：tomcat与mysql各自独占机器资源</p>
<p>针对性扩容：tomcat应用机更注重cpu的运算和内存，mysql更注重io与磁盘性能，针对各自情况扩容（课题：架构设计基础设施保障）</p>
<ol start="2">
<li>特点</li>
</ol>
<p>数据维护：可以抽出单独的dba来维护数据库服务器</p>
<p>数据安全：需要跨机器访问数据库，链接密码需要注意防范泄漏</p>
<h3 id="应用集群"><a href="#应用集群" class="headerlink" title="应用集群"></a>应用集群</h3><p>2004-2005，淘宝V2.0，EJB为核心。V2.1架构下，引入spring框架走向轻量化和集群</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103173959957.png" alt="image-20250103173959957"></p>
<ol>
<li>方案</li>
</ol>
<p>apache：早期负载均衡方案，性能一般</p>
<p>nginx：7层代理，性能强悍，配置简洁，当前不二之选（课题：openresty日活亿级用户流量控制）</p>
<p>haproxy：性能同样可靠，可做7层或4层代理。</p>
<p>lvs：4层代理，性能最强，linux集成，配置麻烦（课题：lvs+keepalived高可用部署实战）</p>
<p>f5：4层，硬件负载，财大气粗的不二选择</p>
<ol start="2">
<li>特点</li>
</ol>
<p>session保持：集群环境下，用户登陆需要分布式session做支撑（课题：多维系统下单点登录的深入讲解）</p>
<p>分布式协同：分布式环境下对资源的加锁要超出线程锁的范畴，上升为分布式锁</p>
<p>调度问题：调度程序不能多台部署，容易跑重复，除非使用分布式调度，如elastic-job</p>
<p>机器状态管理：多台应用机的状态检测与替换需要做到及时性，一般niginx层做故障转移</p>
<p>服务升级：滚动升级成为可能，灰度发布（课题：不容忽视的灰度发布）</p>
<p>日志管理：日志文件分散在各个机器，促进集中式日志平台的产生（课题：集中式日志平台的深入应用）</p>
<h3 id="多层代理"><a href="#多层代理" class="headerlink" title="多层代理"></a>多层代理</h3><p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103174143881.png" alt="image-20250103174143881"></p>
<ol>
<li>方案</li>
</ol>
<p>机器规模进一步加大，动静态均有多个nginx负载，入口统一交给lvs负载。多层代理形成。</p>
<ol start="2">
<li>特点</li>
</ol>
<p>机房受限：lvs依然是单一节点，即使keepalived做到高可用，流量仍然需要在唯一入口进入</p>
<h3 id="异地访问"><a href="#异地访问" class="headerlink" title="异地访问"></a>异地访问</h3><p>淘宝V2.1时代 ， 使用自己的TaobaoCDN。</p>
<p>将相同的系统部署多份，分散到异地多个机房，或者电信、移动等多个网络中。</p>
<p>不同地点，不同网络接入的用户，有了不同的访问入口和选择。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103174257992.png" alt="image-20250103174257992"></p>
<ol>
<li>方案</li>
</ol>
<p>dns轮询：通过配置多个ip将服务部署到多个机房，通过dns的策略轮询调用，可以实现机房层面的扩容</p>
<p>CDN：就近原则，使用户获得就近的机房访问相关资源，自己投资太大，购买他方需要付费。</p>
<ol start="2">
<li>特点</li>
</ol>
<p>基本解决了机器部署的扩容问题，随着业务的发展，扩容与收缩变得困难，促进资源调度层面的技术发展。</p>
<h3 id="云平台"><a href="#云平台" class="headerlink" title="云平台"></a>云平台</h3><p> 针对中台化的建设及微服务数量的飙升，部署和运维支撑同步进行着变革。面临微服务的快速部署，资源的弹性伸缩等挑战，容器化与云被推进。</p>
<p>案例：成百上千的服务数量庞大、大促期间某些微服务的临时扩容。</p>
<p><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20250103174406383.png" alt="image-20250103174406383"></p>
<ol>
<li>方案</li>
</ol>
<p>虚拟化：vm方案，Openstack，Vmware，VirtualBox</p>
<p>容器化：docker</p>
<p>编排：swarm，k8s，k3s（课题：运维篇 docker，k8s深入原理与应用）</p>
<p>云化：容器化解决了资源的快速伸缩，但仍需要企业自备大量机器资源。推动私有云到企业云进化</p>
<ol start="2">
<li>特点</li>
</ol>
<p>资源预估：注意资源的回收，降低资源闲置和浪费，例如大促结束后要及时回收。</p>
<p>运维要求：需要运维层面的高度支撑，门槛比较高</p>
<p>预估风险：云瘫痪的故障造成的损失不可估量，（openstack垮掉的事故案例）</p>
<h3 id="总结与思考-2"><a href="#总结与思考-2" class="headerlink" title="总结与思考"></a>总结与思考</h3><ul>
<li>常见的代理服务器有哪些？各属于网络的哪一层？</li>
<li>docker的编排工具有哪些？</li>
</ul>
<h2 id="架构思想"><a href="#架构思想" class="headerlink" title="架构思想"></a>架构思想</h2><p>任何体系的成型不是一蹴而就，随着访问量，数据量的增长，业务需求在推动技术架构的发展变革。</p>
<ol>
<li>   知行合一，做之前，先考虑意义</li>
<li>   原生优于定制，约定大于配置</li>
<li>   什么都是，最后会沦落到什么都不是</li>
<li>   控制技术欲，不要瞎折腾</li>
<li>   留下扩展，但不要想到100年后</li>
<li>   没有最好的，只有最合适的</li>
<li>   够用就好，玩的越花，风险越大</li>
<li>   简约最美</li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%9E%B6%E6%9E%84/">架构</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法"><img class="cover" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231209081103228.png" onerror="onerror=null;src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">二分查找的7种写法</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">然后</div><div class="author-info__description">记录一下，防止遗忘</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">互联网架构演变过程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%9A%E5%8A%A1%E6%9E%B6%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text">业务架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E4%BD%93%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.1.1.</span> <span class="toc-text">单体模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%AD%E5%8F%B0%E6%88%98%E7%95%A5"><span class="toc-number">1.1.2.</span> <span class="toc-text">中台战略</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">概述</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-number">1.1.2.2.</span> <span class="toc-text">背景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.2.3.</span> <span class="toc-text">案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E6%80%9D%E8%80%83"><span class="toc-number">1.1.3.</span> <span class="toc-text">总结与思考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%9E%B6%E6%9E%84"><span class="toc-number">1.2.</span> <span class="toc-text">数据架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.2.1.</span> <span class="toc-text">单数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BB%E4%BB%8E%E8%AF%BB%E5%86%99"><span class="toc-number">1.2.2.</span> <span class="toc-text">主从读写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%BA%93%E5%88%86%E8%A1%A8"><span class="toc-number">1.2.3.</span> <span class="toc-text">分库分表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%AB%98%E9%80%9F%E7%BC%93%E5%AD%98"><span class="toc-number">1.2.4.</span> <span class="toc-text">高速缓存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%A4%9A%E6%A0%B7%E5%8C%96"><span class="toc-number">1.2.5.</span> <span class="toc-text">数据多样化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6"><span class="toc-number">1.2.5.1.</span> <span class="toc-text">分布式文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#nosql"><span class="toc-number">1.2.5.2.</span> <span class="toc-text">nosql</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-number">1.2.5.3.</span> <span class="toc-text">搜索引擎</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.5.4.</span> <span class="toc-text">架构特点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%9D%E8%80%83%E4%B8%8E%E6%80%9D%E8%80%83"><span class="toc-number">1.2.6.</span> <span class="toc-text">思考与思考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E6%9E%B6%E6%9E%84"><span class="toc-number">1.3.</span> <span class="toc-text">应用架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%9C%BA%E8%B0%83%E4%BC%98"><span class="toc-number">1.3.1.</span> <span class="toc-text">单机调优</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E9%9D%99%E5%88%86%E7%A6%BB"><span class="toc-number">1.3.2.</span> <span class="toc-text">动静分离</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B8%83%E5%BC%8F"><span class="toc-number">1.3.3.</span> <span class="toc-text">分布式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.3.4.</span> <span class="toc-text">微服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E6%80%9D%E8%80%83-1"><span class="toc-number">1.3.5.</span> <span class="toc-text">总结与思考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%83%A8%E7%BD%B2%E6%9E%B6%E6%9E%84"><span class="toc-number">1.4.</span> <span class="toc-text">部署架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E6%9C%BA%E5%99%A8"><span class="toc-number">1.4.1.</span> <span class="toc-text">单机器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%92%E8%89%B2%E5%88%92%E5%88%86"><span class="toc-number">1.4.2.</span> <span class="toc-text">角色划分</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E9%9B%86%E7%BE%A4"><span class="toc-number">1.4.3.</span> <span class="toc-text">应用集群</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%B1%82%E4%BB%A3%E7%90%86"><span class="toc-number">1.4.4.</span> <span class="toc-text">多层代理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%82%E5%9C%B0%E8%AE%BF%E9%97%AE"><span class="toc-number">1.4.5.</span> <span class="toc-text">异地访问</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%91%E5%B9%B3%E5%8F%B0"><span class="toc-number">1.4.6.</span> <span class="toc-text">云平台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%E4%B8%8E%E6%80%9D%E8%80%83-2"><span class="toc-number">1.4.7.</span> <span class="toc-text">总结与思考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%B6%E6%9E%84%E6%80%9D%E6%83%B3"><span class="toc-number">1.5.</span> <span class="toc-text">架构思想</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/03/34.%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B/" title="互联网架构演变过程"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="互联网架构演变过程"/></a><div class="content"><a class="title" href="/2025/01/03/34.%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B/" title="互联网架构演变过程">互联网架构演变过程</a><time datetime="2025-01-03T00:00:00.000Z" title="发表于 2025-01-03 08:00:00">2025-01-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231209081103228.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="二分查找的7种写法"/></a><div class="content"><a class="title" href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法">二分查找的7种写法</a><time datetime="2023-12-10T00:00:00.000Z" title="发表于 2023-12-10 08:00:00">2023-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/22/01.HadoopHDFS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="在多个虚拟机中部署HDFS"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231122113358133.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="在多个虚拟机中部署HDFS"/></a><div class="content"><a class="title" href="/2023/11/22/01.HadoopHDFS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="在多个虚拟机中部署HDFS">在多个虚拟机中部署HDFS</a><time datetime="2023-11-22T00:00:00.000Z" title="发表于 2023-11-22 08:00:00">2023-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/17/02.Go%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="Go基本语法：常量、变量、常见数据类型"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%222.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Go基本语法：常量、变量、常见数据类型"/></a><div class="content"><a class="title" href="/2023/11/17/02.Go%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="Go基本语法：常量、变量、常见数据类型">Go基本语法：常量、变量、常见数据类型</a><time datetime="2023-11-17T00:00:00.000Z" title="发表于 2023-11-17 08:00:00">2023-11-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/13/01.Linux%EF%BC%9AGo%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Linux：Go环境的下载与配置"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22motorcycle.svg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Linux：Go环境的下载与配置"/></a><div class="content"><a class="title" href="/2023/11/13/01.Linux%EF%BC%9AGo%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Linux：Go环境的下载与配置">Linux：Go环境的下载与配置</a><time datetime="2023-11-13T00:00:00.000Z" title="发表于 2023-11-13 08:00:00">2023-11-13</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2025 By 然后</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>