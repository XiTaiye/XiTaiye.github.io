<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>2025：明伟的学习笔记 - 持续输入，坚持输出</title><meta name="author" content="然后"><meta name="copyright" content="然后"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="记录一下，防止遗忘">
<meta property="og:type" content="website">
<meta property="og:title" content="2025：明伟的学习笔记">
<meta property="og:url" content="http://xitaiye.github.io.git/page/2/index.html">
<meta property="og:site_name" content="2025：明伟的学习笔记">
<meta property="og:description" content="记录一下，防止遗忘">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xitaiye.github.io.git/img/avator.jpg">
<meta property="article:author" content="然后">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xitaiye.github.io.git/img/avator.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://xitaiye.github.io.git/page/2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '2025：明伟的学习笔记',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-01-03 17:58:45'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avator.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22%E5%A4%B4%E5%9B%BE.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="2025：明伟的学习笔记"><img class="site-icon" src="/img/logo.png"/><span class="site-name">2025：明伟的学习笔记</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">2025：明伟的学习笔记</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2023/09/30/06.MySQL%E7%9A%844%E7%A7%8D%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6/" title="MySQL中的4种日志"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231101135518134.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="MySQL中的4种日志"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/30/06.MySQL%E7%9A%844%E7%A7%8D%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6/" title="MySQL中的4种日志">MySQL中的4种日志</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-30T00:00:00.000Z" title="发表于 2023-09-30 08:00:00">2023-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MySQL/">MySQL</a></span></div><div class="content">MySQL中的4种日志错误日志
错误日志是MySQL中最重要的日志之一，它记录了当mysqld启动和停止时，以及服务器在运行过程中发生任何严重错误时的相关信息。当数据库出现任何故障导致无法正常使用时，建议首先查看此日志。

该日志是默认开启的，默认存放目录 /var/log/，默认的日志文件名为 mysqld.log。查看日志位置：


1show variables like &#x27;%log_error%&#x27;;


二进制日志介绍二进制日志（BINLOG）记录了所有的 DDL（数据定义语言语句和 DML（数据操纵语言）语句，但不包括数据查询（SELECT、SHOW）语句。
作用：①. 灾难时的数据恢复；②. MySQL的主从复制。在MySQL8版本中，默认二进制日志是开启着的，涉及到的参数如下：
1show variables like &#x27;%log_bin%&#x27;;


log_bin_basename：当前数据库服务器的binlog日志的基础名称(前缀)，具体的binlog文件名需要在该basename的基础上加上编号(编号从000001开始)。
lo ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/09/26/06.Redis%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96/" title="Redis的持久化"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20210725151319695.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Redis的持久化"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/26/06.Redis%E7%9A%84%E6%8C%81%E4%B9%85%E5%8C%96/" title="Redis的持久化">Redis的持久化</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-26T00:00:00.000Z" title="发表于 2023-09-26 08:00:00">2023-09-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Redis/">Redis</a></span></div><div class="content">Redis持久化Redis有两种持久化方案：

RDB持久化
AOF持久化

RDB持久化RDB全称Redis Database Backup file（Redis数据备份文件），也被叫做Redis数据快照。简单来说就是把内存中的所有数据都记录到磁盘中。当Redis实例故障重启后，从磁盘读取快照文件，恢复数据。快照文件称为RDB文件，默认是保存在当前运行目录。
执行时机RDB持久化在四种情况下会执行：

执行save命令
执行bgsave命令
Redis停机时
触发RDB条件时

1）save命令
执行下面的命令，可以立即执行一次RDB：

save命令会导致主进程执行RDB，这个过程中其它所有命令都会被阻塞。只有在数据迁移时可能用到。
2）bgsave命令
下面的命令可以异步执行RDB：

这个命令执行后会开启独立进程完成RDB，主进程可以持续处理用户请求，不受影响。
3）停机时
Redis停机时会执行一次save命令，实现RDB持久化。
4）触发RDB条件
Redis内部有触发RDB的机制，可以在redis.conf文件中找到，格式如下：
1234# 900秒内，如果至少有1个ke ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/09/16/20.MySQL%E5%B8%B8%E8%A7%81%E7%9A%84%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E7%9A%84%E6%83%85%E5%86%B5/" title="MySQL常见的索引失效的情况"><img class="post-bg" src="https://springboot-practice-crud.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231016094025401.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="MySQL常见的索引失效的情况"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/16/20.MySQL%E5%B8%B8%E8%A7%81%E7%9A%84%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E7%9A%84%E6%83%85%E5%86%B5/" title="MySQL常见的索引失效的情况">MySQL常见的索引失效的情况</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-16T00:00:00.000Z" title="发表于 2023-09-16 08:00:00">2023-09-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/MySQL/">MySQL</a></span></div><div class="content">如果索引有多列，要遵守最左前缀法则。指的是查询从索引的最左前列开始，并且不跳过索引中的列</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/09/11/12.0911/" title="Why You Should Cultivate a Fluid Sense of Self"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Why You Should Cultivate a Fluid Sense of Self"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/11/12.0911/" title="Why You Should Cultivate a Fluid Sense of Self">Why You Should Cultivate a Fluid Sense of Self</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-11T00:00:00.000Z" title="发表于 2023-09-11 08:00:00">2023-09-11</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">Why You Should Cultivate a Fluid Sense of SelfIf you want to learn something about change there is no better place to look than evolution. Nothing represents a continuous and unrelenting cycle of order, disorder, and reorder on a grander scale. For long periods of time, Earth is relatively stable. Sweeping changes—warming, cooling, or an asteroid falling from space, for example—occur. These inflection points are followed by periods of disruption and chaos. Eventually, Earth, and everything on it ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/09/06/13.0906/" title="Wish you had more self-control? You should hear the downsides"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231115092809997.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Wish you had more self-control? You should hear the downsides"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/09/06/13.0906/" title="Wish you had more self-control? You should hear the downsides">Wish you had more self-control? You should hear the downsides</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-09-06T00:00:00.000Z" title="发表于 2023-09-06 08:00:00">2023-09-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">Wish you had more self-control? You should hear the downsides
Samantha Lapkais a PhD student in the Social Psychology Department at the Ohio State University. She studies how mindsets, beliefs and perceptions about self-control can affect motivation, success in goal-attainment, and wellbeing.
Franki Kungis assistant professor at the Department of Psychological Sciences at Purdue University in Indiana, where he also serves as the director of diversity, equity and inclusion (DEI) and co-directs th ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/22/14.0822/" title="What Separates Highly Creative People"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22%E5%AD%A6%E4%B9%A0.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="What Separates Highly Creative People"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/22/14.0822/" title="What Separates Highly Creative People">What Separates Highly Creative People</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-22T00:00:00.000Z" title="发表于 2023-08-22 08:00:00">2023-08-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">What Separates Highly Creative PeopleThe creative spark can flare up in anyone at any time. For the cognitive neuroscientist Evangelia Chrysikou, who grew up in Greece, creativity is almost a fundamental human instinct. We wouldn’t be where we are today as a species, spread across the globe, she says, if we couldn’t imagine what’s possible—and make it happen. For her, all creative acts fall along a spectrum of recombining what you know into something that didn’t previously exist. She offers a si ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/20/7.%E5%9F%BA%E4%BA%8ECentOS7Redis%E9%9B%86%E7%BE%A4%E7%9A%84%E6%90%AD%E5%BB%BA%EF%BC%9A%E4%B8%BB%E4%BB%8E%E9%9B%86%E7%BE%A4%EF%BC%8C%E5%93%A8%E5%85%B5%E9%9B%86%E7%BE%A4%EF%BC%8C%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4/" title="基于CentOS7的Redis集群的搭建：主从集群，哨兵集群，分片集群"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20210630111505799.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="基于CentOS7的Redis集群的搭建：主从集群，哨兵集群，分片集群"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/20/7.%E5%9F%BA%E4%BA%8ECentOS7Redis%E9%9B%86%E7%BE%A4%E7%9A%84%E6%90%AD%E5%BB%BA%EF%BC%9A%E4%B8%BB%E4%BB%8E%E9%9B%86%E7%BE%A4%EF%BC%8C%E5%93%A8%E5%85%B5%E9%9B%86%E7%BE%A4%EF%BC%8C%E5%88%86%E7%89%87%E9%9B%86%E7%BE%A4/" title="基于CentOS7的Redis集群的搭建：主从集群，哨兵集群，分片集群">基于CentOS7的Redis集群的搭建：主从集群，哨兵集群，分片集群</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-20T00:00:00.000Z" title="发表于 2023-08-20 08:00:00">2023-08-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Redis/">Redis</a></span></div><div class="content">Redis集群基于CentOS7下的Redis集群教程，包括：

单机安装Redis
Redis主从
Redis分片集群

1.单机安装Redis首先需要安装Redis所需要的依赖：
1yum install -y gcc tcl



将Redis安装包上传到虚拟机的任意目录：

例如，我放到了&#x2F;tmp目录：

解压缩：
1tar -xvf redis-6.2.4.tar.gz

解压后：

进入redis目录：
1cd redis-6.2.4



运行编译命令：
1make &amp;&amp; make install

如果没有出错，应该就安装成功了。
然后修改redis.conf文件中的一些配置：
1234# 绑定地址，默认是127.0.0.1，会导致只能在本地访问。修改为0.0.0.0则可以在任意IP访问bind 0.0.0.0# 数据库数量，设置为1databases 1



启动Redis：
1redis-server redis.conf

停止redis服务：
1redis-cli shutdown







2.Redis主从集群2.1.集群结构 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/08/19/11.0919/" title="A Few Things I’m Pretty Sure About"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22%E5%AD%A6%E4%B9%A0.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="A Few Things I’m Pretty Sure About"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/19/11.0919/" title="A Few Things I’m Pretty Sure About">A Few Things I’m Pretty Sure About</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-19T00:00:00.000Z" title="发表于 2023-08-19 08:00:00">2023-08-19</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">A Few Things I’m Pretty Sure AboutYou don’t have to know exactly what the future holds to know that some people will handle it better than others.
Money can bring happiness but it also brings complexity, and complexity can quickly lead to unhappiness.
It’s easy to mistake getting attention for being right or being admired, especially on social media.
The most valuable personal finance asset is not needing to impress anyone.
A bigger problem than price inflation is expectations inflation: A const ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/08/01/12.Redis%E7%94%9F%E6%88%90%E5%85%A8%E5%B1%80id%E7%94%9F%E6%88%90%E5%99%A8/" title="Redis实现全局唯一ID生成器"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Redis实现全局唯一ID生成器"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/08/01/12.Redis%E7%94%9F%E6%88%90%E5%85%A8%E5%B1%80id%E7%94%9F%E6%88%90%E5%99%A8/" title="Redis实现全局唯一ID生成器">Redis实现全局唯一ID生成器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-08-01T00:00:00.000Z" title="发表于 2023-08-01 08:00:00">2023-08-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Redis/">Redis</a></span></div><div class="content">Redis：全局唯一ID生成器自增id的缺点
id的规律性太明显
受单表数据量的限制

场景分析：如果我们的id具有太明显的规则，用户或者说商业对手很容易猜测出来我们的一些敏感信息，比如商城在一天时间内，卖出了多少单，这明显不合适。
场景分析二：随着我们商城规模越来越大，mysql的单表的容量不宜超过500W，数据量过大之后，我们要进行拆库拆表，但拆分表了之后，他们从逻辑上讲他们是同一张表，所以他们的id是不能一样的， 于是乎我们需要保证id的唯一性。
全局ID生成器全局ID生成器，是一种在分布式系统下用来生成全局唯一ID的工具，一般要满足下列特性：
为了增加ID的安全性，我们可以不直接使用Redis自增的数值，而是拼接一些其它信息：
ID的组成部分：符号位：1bit，永远为0
时间戳：31bit，以秒为单位，可以使用69年
序列号：32bit，秒内的计数器，支持每秒产生2^32个不同ID
Redis实现全局唯一Id123456789101112131415161718192021222324252627282930313233@Componentpublic class RedisI ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/07/24/05.Redis%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Redis双写一致性的解决方案"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231022193122380.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Redis双写一致性的解决方案"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/07/24/05.Redis%E5%8F%8C%E5%86%99%E4%B8%80%E8%87%B4%E6%80%A7%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/" title="Redis双写一致性的解决方案">Redis双写一致性的解决方案</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-07-24T00:00:00.000Z" title="发表于 2023-07-24 08:00:00">2023-07-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Redis/">Redis</a></span></div><div class="content">Redis双写一致性的解决方案双写一致性：当修改了数据库中的数据，也要同时更新缓存中的数据，缓存和数据库中的数据要保持一致。
根据业务不同就行分类
允许延时一致的业务：
解决方案1：异步通知，使用MQ中间件，当数据库中的数据进行更新的时候，发送通知进行缓存删除和同步，他需要保证MQ的可靠性


解决方案2：使用阿里巴巴的canal，他会伪装成MySQL的一个从节点，canal通过读取binlog数据（里面存储着DDL,和DML语句）更新缓存，优点是对业务代码没有侵入。

解决方案3：延迟双删，当我们要修改数据时，先删除缓存再删除数据库，删除完数据库之后过一段时间再删除缓存，他的缺点是延时时间不好确定，延迟的这个时间内可能出现脏数据的情况。


业务需要保证强一致性：解决方案1：使用Redission的读写锁，他有两种锁，readLock和writeLock.

当进行读操作的时候是添加readLock，他是一个共享锁，加锁以后，其他线程都可以并行读操作，不能并发执行读写操作。
当进行写操作的时候，添加writeLock，他

</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/#content-inner">15</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">然后</div><div class="author-info__description">记录一下，防止遗忘</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">142</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">30</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">15</div></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/01/03/34.%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B/" title="互联网架构演变过程"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="互联网架构演变过程"/></a><div class="content"><a class="title" href="/2025/01/03/34.%E4%BA%92%E8%81%94%E7%BD%91%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98%E8%BF%87%E7%A8%8B/" title="互联网架构演变过程">互联网架构演变过程</a><time datetime="2025-01-03T00:00:00.000Z" title="发表于 2025-01-03 08:00:00">2025-01-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231209081103228.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="二分查找的7种写法"/></a><div class="content"><a class="title" href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法">二分查找的7种写法</a><time datetime="2023-12-10T00:00:00.000Z" title="发表于 2023-12-10 08:00:00">2023-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/22/01.HadoopHDFS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="在多个虚拟机中部署HDFS"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231122113358133.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="在多个虚拟机中部署HDFS"/></a><div class="content"><a class="title" href="/2023/11/22/01.HadoopHDFS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="在多个虚拟机中部署HDFS">在多个虚拟机中部署HDFS</a><time datetime="2023-11-22T00:00:00.000Z" title="发表于 2023-11-22 08:00:00">2023-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/17/02.Go%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="Go基本语法：常量、变量、常见数据类型"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%222.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Go基本语法：常量、变量、常见数据类型"/></a><div class="content"><a class="title" href="/2023/11/17/02.Go%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="Go基本语法：常量、变量、常见数据类型">Go基本语法：常量、变量、常见数据类型</a><time datetime="2023-11-17T00:00:00.000Z" title="发表于 2023-11-17 08:00:00">2023-11-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/13/01.Linux%EF%BC%9AGo%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Linux：Go环境的下载与配置"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22motorcycle.svg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Linux：Go环境的下载与配置"/></a><div class="content"><a class="title" href="/2023/11/13/01.Linux%EF%BC%9AGo%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Linux：Go环境的下载与配置">Linux：Go环境的下载与配置</a><time datetime="2023-11-13T00:00:00.000Z" title="发表于 2023-11-13 08:00:00">2023-11-13</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/English/"><span class="card-category-list-name">English</span><span class="card-category-list-count">32</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Hadoop/"><span class="card-category-list-name">Hadoop</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">33</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">20</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Redis/"><span class="card-category-list-name">Redis</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/SpringBoot/"><span class="card-category-list-name">SpringBoot</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Hadoop/" style="font-size: 1.1em; color: #999">Hadoop</a> <a href="/tags/%E7%BA%BF%E6%80%A7%E8%A1%A8/" style="font-size: 1.18em; color: #999ca1">线性表</a> <a href="/tags/html/" style="font-size: 1.14em; color: #999b9d">html</a> <a href="/tags/English/" style="font-size: 1.5em; color: #99a9bf">English</a> <a href="/tags/Maven/" style="font-size: 1.18em; color: #999ca1">Maven</a> <a href="/tags/vscode/" style="font-size: 1.1em; color: #999">vscode</a> <a href="/tags/butterfly/" style="font-size: 1.1em; color: #999">butterfly</a> <a href="/tags/Jmeter/" style="font-size: 1.1em; color: #999">Jmeter</a> <a href="/tags/dos/" style="font-size: 1.1em; color: #999">dos</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.18em; color: #999ca1">多线程</a> <a href="/tags/markdown/" style="font-size: 1.14em; color: #999b9d">markdown</a> <a href="/tags/MySQL/" style="font-size: 1.46em; color: #99a7bb">MySQL</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 1.1em; color: #999">微服务</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.1em; color: #999">数据结构</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/" style="font-size: 1.1em; color: #999">线程池</a> <a href="/tags/collections/" style="font-size: 1.34em; color: #99a3b0">collections</a> <a href="/tags/redis/" style="font-size: 1.1em; color: #999">redis</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" style="font-size: 1.1em; color: #999">博客搭建</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.22em; color: #999ea4">算法</a> <a href="/tags/hexo/" style="font-size: 1.14em; color: #999b9d">hexo</a> <a href="/tags/%E6%9E%B6%E6%9E%84/" style="font-size: 1.1em; color: #999">架构</a> <a href="/tags/Redis/" style="font-size: 1.38em; color: #99a4b4">Redis</a> <a href="/tags/SpringBoot/" style="font-size: 1.14em; color: #999b9d">SpringBoot</a> <a href="/tags/%E5%B0%8F%E7%9F%A5%E8%AF%86/" style="font-size: 1.1em; color: #999">小知识</a> <a href="/tags/SpringCloud/" style="font-size: 1.26em; color: #999fa8">SpringCloud</a> <a href="/tags/Java/" style="font-size: 1.42em; color: #99a6b7">Java</a> <a href="/tags/Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.1em; color: #999">Redis的数据结构</a> <a href="/tags/exception/" style="font-size: 1.1em; color: #999">exception</a> <a href="/tags/Go/" style="font-size: 1.22em; color: #999ea4">Go</a> <a href="/tags/Linux/" style="font-size: 1.3em; color: #99a1ac">Linux</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/01/"><span class="card-archive-list-date">一月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">2</span></a></li></ul></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2025 By 然后</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>