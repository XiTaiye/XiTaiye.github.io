<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>然后的学习笔记 - 持续输入，坚持输出</title><meta name="author" content="然后"><meta name="copyright" content="然后"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="记录一下，防止遗忘">
<meta property="og:type" content="website">
<meta property="og:title" content="然后的学习笔记">
<meta property="og:url" content="http://xitaiye.github.io.git/page/6/index.html">
<meta property="og:site_name" content="然后的学习笔记">
<meta property="og:description" content="记录一下，防止遗忘">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://xitaiye.github.io.git/img/avator.jpg">
<meta property="article:author" content="然后">
<meta property="article:tag" content="hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://xitaiye.github.io.git/img/avator.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://xitaiye.github.io.git/page/6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '然后的学习笔记',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2023-12-13 19:53:46'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avator.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">141</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22%E5%A4%B4%E5%9B%BE.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="然后的学习笔记"><img class="site-icon" src="/img/logo.png"/><span class="site-name">然后的学习笔记</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">然后的学习笔记</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/05/20/23.0520/" title="How Treadmill Running Differs from Running Outside"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%222.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="How Treadmill Running Differs from Running Outside"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/20/23.0520/" title="How Treadmill Running Differs from Running Outside">How Treadmill Running Differs from Running Outside</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-20T00:00:00.000Z" title="发表于 2022-05-20 08:00:00">2022-05-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">How Treadmill Running Differs from Running OutsideSweat Science
Yes, the physiology and biomechanics of treadmill running are a little different. But how you feel about it is probably more important.

Scott Markewitz&#x2F;Gallery Stock(Photo)
Heading out the door? Read this article on the new Outside+ app available now on iOS devices for members! Download the app.
The second-biggest question about treadmills (besides whether an airplane could take off from one) is how well they approximate the e ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/05/01/23.0501/" title="The Japanese art principle that teaches how to work with failure"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231115110913420.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="The Japanese art principle that teaches how to work with failure"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/05/01/23.0501/" title="The Japanese art principle that teaches how to work with failure">The Japanese art principle that teaches how to work with failure</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-05-01T00:00:00.000Z" title="发表于 2022-05-01 08:00:00">2022-05-01</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">The Japanese art principle that teaches how to work with failureYour cracks are what give you character. Image: Daederot&#x2F;Ethnological Museum, Berlin, Germany.&#x2F;photos permitted

Like a favorite cup or plate, people sometimes crack. We may even break.
Obviously, we cannot and ought not throw ourselves away when this happens. Instead, we can relish the blemishes and learn to turn these scars into art—like kintsugi (金継ぎ), an ancient Japanese practice that beautifies broken pottery.
Adverti ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/28/6.AQS/" title="AQS：AbstractQueuedSynchronizer 抽象队列同步器"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="AQS：AbstractQueuedSynchronizer 抽象队列同步器"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/28/6.AQS/" title="AQS：AbstractQueuedSynchronizer 抽象队列同步器">AQS：AbstractQueuedSynchronizer 抽象队列同步器</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-28T00:00:00.000Z" title="发表于 2022-04-28 08:00:00">2022-04-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">AQS：AbstractQueuedSynchronizer 抽象队列同步器
全称是 AbstractQueuedSynchronizer，即抽象队列同步器。它是构建锁或者其他同步组件的基础框架


AQS常见的实现类
ReentrantLock      阻塞式锁

Semaphore        信号量

CountDownLatch   倒计时锁


总结
多线程中的队列同步器。是一种锁机制，它是做为一个基础框架使用的，像ReentrantLock、Semaphore都是基于AQS实现的

AQS内部维护了一个先进先出的双向队列，队列中存储的排队的线程

在AQS内部还有一个属性state，这个state就相当于是一个资源，默认是0（无锁状态），如果队列中的有一个线程修改成功了state为1，则当前线程就相等于获取了资源

在对state修改的时候使用的cas操作，保证多个线程修改的情况下原子性


</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/26/5.%E5%85%B3%E4%BA%8Evolatile%E7%9A%84%E7%90%86%E8%A7%A3/" title="关于volatile关键字的理解"><img class="post-bg" src="/(https:/image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="关于volatile关键字的理解"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/26/5.%E5%85%B3%E4%BA%8Evolatile%E7%9A%84%E7%90%86%E8%A7%A3/" title="关于volatile关键字的理解">关于volatile关键字的理解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-26T00:00:00.000Z" title="发表于 2022-04-26 08:00:00">2022-04-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">关于volatile关键字的理解一旦一个共享变量（类的成员变量、类的静态成员变量）被volatile修饰之后，那么就具备了两层语义：
① 保证线程间的可见性
② 禁止进行指令重排序
保证线程间的可见性用 volatile 修饰共享变量，能够防止编译器等优化发生，让一个线程对共享变量的修改对另一个线程可见
volatile禁止指令重排序用 volatile 修饰共享变量会在读、写共享变量时加入不同的屏障，阻止其他读写操作越过屏障，从而达到阻止重排序的效果
第一，一旦data变量定义的时候前面加了volatile来修饰的话，那么线程1只要修改data变量的值，就会在修改完自己本地工作内存的data变量值之后，强制将这个data变量最新的值刷回主内存，必须让主内存里的data变量值立马变成最新的值！
第二，如果此时别的线程的工作内存中有这个data变量的本地缓存，也就是一个变量副本的话，那么会强制让其他线程的工作内存中的data变量缓存直接失效过期，不允许再次读取和使用了！
第三，如果线程2在代码运行过程中再次需要读取data变量的值，此时尝试从本地工作内存中读取，就会发现这个data &# ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/22/4.JMM%EF%BC%9AJava%E7%9A%84%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" title="JMM：Java的内存模型"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231101075617338.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="JMM：Java的内存模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/22/4.JMM%EF%BC%9AJava%E7%9A%84%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B/" title="JMM：Java的内存模型">JMM：Java的内存模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-22T00:00:00.000Z" title="发表于 2022-04-22 08:00:00">2022-04-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Java/">Java</a></span></div><div class="content">JMM：Java的内存模型
JMM(Java Memory Model)Java内存模型，定义了共享内存中多线程程序读写操作的行为规范，通过这些规则来规范对内存的读写操作从而保证指令的正确性



JMM把内存分为两块，一块是私有线程的工作区域（工作内存），一块是所有线程的共享区域（主内存）

线程跟线程之间是相互隔离，线程跟线程交互需要通过主内存


Java 是最早尝试提供内存模型的编程语言。由于早期内存模型存在一些缺陷（比如非常容易削弱编译器的优化能力），从 Java5 开始，Java 开始使用新的内存模型 《JSR-133：Java Memory Model and Thread Specification》 。 
 一般来说，编程语言也可以直接复用操作系统层面的内存模型。
不过，不同的操作系统内存模型不同。如果直接复用操作系统层面的内存模型，就可能会导致同样一套代码换了一个操作系统就无法执行了。Java 语言是跨平台的，它需要自己提供一套内存模型以屏蔽系统差异。  这只是 JMM 存在的其中一个原因。实际上，对于 Java 来说，你可以把 JMM 看作是 Java 定义的并发 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/22/22.0422/" title="If You Can Rate Yourself a 5 on These 6 Questions, You're Likely to Accomplish Huge Goals"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%224.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="If You Can Rate Yourself a 5 on These 6 Questions, You're Likely to Accomplish Huge Goals"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/22/22.0422/" title="If You Can Rate Yourself a 5 on These 6 Questions, You're Likely to Accomplish Huge Goals">If You Can Rate Yourself a 5 on These 6 Questions, You're Likely to Accomplish Huge Goals</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-22T00:00:00.000Z" title="发表于 2022-04-22 08:00:00">2022-04-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">If You Can Rate Yourself a 5 on These 6 Questions, You’re Likely to Accomplish Huge GoalsWhere success is concerned, being the last person to give up – especially on yourself – matters. Grit matters. Staying the course matters.
As long as you’re willing, when necessary, to change that course.
According to a 2020 study published in Proceedings of the National Academic of Sciences, the degree to which you possess a strategic mindset can “uniquely” predict how effective you will be at achieving you ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/17/15.Redis%E6%95%B0%E6%8D%AE%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5/" title="Redis数据淘汰策略"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231128130845397.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Redis数据淘汰策略"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/17/15.Redis%E6%95%B0%E6%8D%AE%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5/" title="Redis数据淘汰策略">Redis数据淘汰策略</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-17T00:00:00.000Z" title="发表于 2022-04-17 08:00:00">2022-04-17</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Redis/">Redis</a></span></div><div class="content">Redis数据淘汰策略数据淘汰策略：当Redis的内存不够时，数据的删除规则。

noeviction: 不淘汰任何key，但是内存满了无法写入新数据（默认）


针对全体的key
allkeys-random: 对全体key进行随机淘汰
allkeys-lru：对全体key，基于LRU算法进行淘汰（LRU：Least Recently Used，最近最少使用）
allkeys-lfu: 对全体key，基于LFU算法进行淘汰 (LFU：Least Frequently Used，最近最少频率使用）

针对设置了TTL的key
volatile-random: 对设置了TTL的key，随机进行淘汰

volatile-ttl: 对设置了TTL的key，剩余的TTL的少的进行淘汰

volatile-lru: 对设置了TTL的key，基于LRU算法进行淘汰

volatile-lfu: 对设置了TTL的key，基于LFU算法进行淘汰



注意事项：
如果数据没有明显的冷热区分建议使用：allkeys-lru

如果业务中数据访问频率差别不大，没有冷热区分，建议使用：allkeys-ran ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/15/14.Redis%E6%95%B0%E6%8D%AE%E8%BF%87%E6%9C%9F%E7%AD%96%E7%95%A5/" title="Redis的数据过期策略"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231128112348931.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Redis的数据过期策略"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/15/14.Redis%E6%95%B0%E6%8D%AE%E8%BF%87%E6%9C%9F%E7%AD%96%E7%95%A5/" title="Redis的数据过期策略">Redis的数据过期策略</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-15T00:00:00.000Z" title="发表于 2022-04-15 08:00:00">2022-04-15</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Redis/">Redis</a></span></div><div class="content">Redis的数据过期策略
Redis使用惰性删除+定期删除两种策略来处理过期的key

删除策略1：惰性删除
当一个key过期后不会立即删除，当再次需要用到这个key的时候，会检查是否过期，如果过期再删除。优点是对CPU比较友好，缺点是过期的key对内存造成占用。


删除策略2：定期删除
定期对一定数量的key进行检查，如果过期了就将他们删除。Redis提供了两种模式进行定期清理，分别是SLOW模式和FAST模式，SLOW模式执行频率固定，FAST模式执行频率不固定。

定期清理有两种模式：

SLOW模式是定时任务，执行频率默认为10hz，每次不超过25ms，以通过修改配置文件redis.conf 的hz 选项来调整这个次数

FAST模式执行频率不固定，但两次间隔不低于2ms，每次耗时不超过1ms


优点：可以通过限制删除操作执行的时长和频率来减少删除操作对 CPU 的影响。另外定期删除，也能有效释放过期键占用的内存。
缺点：难以确定删除操作执行的时长和频率。
</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/14/21.0414/" title="Want to learn a new skill set? Here’s how, with no classroom required."><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%222.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Want to learn a new skill set? Here’s how, with no classroom required."></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/14/21.0414/" title="Want to learn a new skill set? Here’s how, with no classroom required.">Want to learn a new skill set? Here’s how, with no classroom required.</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-14T00:00:00.000Z" title="发表于 2022-04-14 08:00:00">2022-04-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">Want to learn a new skill set? Here’s how, with no classroom required.Many people consider learning to be an active endeavor, one that takes place in a classroom with a teacher and homework and tests. This intentional form of education is just one way to acquire knowledge. In fact, we absorb new information every day, often unintentionally: the best way to store tomatoes, the quickest way to get to work, the dog’s preferred chew toy. “It’s really important to give ourselves credit for the massiv ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/05/20.0405/" title="Why do high IQ people stagnate in their careers? Emotional intelligence - Big Think"><img class="post-bg" src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%222.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Why do high IQ people stagnate in their careers? Emotional intelligence - Big Think"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/05/20.0405/" title="Why do high IQ people stagnate in their careers? Emotional intelligence - Big Think">Why do high IQ people stagnate in their careers? Emotional intelligence - Big Think</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-05T00:00:00.000Z" title="发表于 2022-04-05 08:00:00">2022-04-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/English/">English</a></span></div><div class="content">Why do high IQ people stagnate in their careers? Emotional intelligence - Big Think
Credit: Antonio Rodriguez&#x2F;Adobe Stock
Albert Einstein, Steve Jobs, Ludwig van Beethoven, John Rockefeller, Ada Lovelace, and Neil deGrasse Tyson. What do these people have in common? They were all incredibly successful in their respective fields, and they are all personalities who have had the label “genius” attached to them. The lesson learned from their examples is evident: Success and intelligence go hand ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/5/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/#content-inner">5</a><span class="page-number current">6</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/#content-inner">15</a><a class="extend next" rel="next" href="/page/7/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avator.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">然后</div><div class="author-info__description">记录一下，防止遗忘</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">141</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">29</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">14</div></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231209081103228.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="二分查找的7种写法"/></a><div class="content"><a class="title" href="/2023/12/10/08.%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE%E7%9A%847%E7%A7%8D%E5%86%99%E6%B3%95/" title="二分查找的7种写法">二分查找的7种写法</a><time datetime="2023-12-10T00:00:00.000Z" title="发表于 2023-12-10 08:00:00">2023-12-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/22/01.HadoopHDFS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="在多个虚拟机中部署HDFS"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22image-20231122113358133.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="在多个虚拟机中部署HDFS"/></a><div class="content"><a class="title" href="/2023/11/22/01.HadoopHDFS%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/" title="在多个虚拟机中部署HDFS">在多个虚拟机中部署HDFS</a><time datetime="2023-11-22T00:00:00.000Z" title="发表于 2023-11-22 08:00:00">2023-11-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/17/02.Go%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="Go基本语法：常量、变量、常见数据类型"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%222.jpg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Go基本语法：常量、变量、常见数据类型"/></a><div class="content"><a class="title" href="/2023/11/17/02.Go%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-%E5%B8%B8%E9%87%8F%E3%80%81%E5%8F%98%E9%87%8F%E3%80%81%E5%B8%B8%E8%A7%81%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/" title="Go基本语法：常量、变量、常见数据类型">Go基本语法：常量、变量、常见数据类型</a><time datetime="2023-11-17T00:00:00.000Z" title="发表于 2023-11-17 08:00:00">2023-11-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/13/01.Linux%EF%BC%9AGo%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Linux：Go环境的下载与配置"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%22motorcycle.svg" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Linux：Go环境的下载与配置"/></a><div class="content"><a class="title" href="/2023/11/13/01.Linux%EF%BC%9AGo%E7%8E%AF%E5%A2%83%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E9%85%8D%E7%BD%AE/" title="Linux：Go环境的下载与配置">Linux：Go环境的下载与配置</a><time datetime="2023-11-13T00:00:00.000Z" title="发表于 2023-11-13 08:00:00">2023-11-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/11/01/9.Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-intset/" title="Redis数据结构-intset"><img src="https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221653985304075.png" onerror="this.onerror=null;this.src='https://image-oss-myimages.oss-cn-beijing.aliyuncs.com/%22D:%5Crepos%5Cblogimages%221.jpg'" alt="Redis数据结构-intset"/></a><div class="content"><a class="title" href="/2023/11/01/9.Redis%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-intset/" title="Redis数据结构-intset">Redis数据结构-intset</a><time datetime="2023-11-01T00:00:00.000Z" title="发表于 2023-11-01 08:00:00">2023-11-01</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/English/"><span class="card-category-list-name">English</span><span class="card-category-list-count">32</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Go/"><span class="card-category-list-name">Go</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Hadoop/"><span class="card-category-list-name">Hadoop</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Java/"><span class="card-category-list-name">Java</span><span class="card-category-list-count">33</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Linux/"><span class="card-category-list-name">Linux</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/MySQL/"><span class="card-category-list-name">MySQL</span><span class="card-category-list-count">20</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Redis/"><span class="card-category-list-name">Redis</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/SpringBoot/"><span class="card-category-list-name">SpringBoot</span><span class="card-category-list-count">2</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E7%BA%BF%E6%80%A7%E8%A1%A8/" style="font-size: 1.18em; color: #999ca1">线性表</a> <a href="/tags/Maven/" style="font-size: 1.18em; color: #999ca1">Maven</a> <a href="/tags/Redis/" style="font-size: 1.38em; color: #99a4b4">Redis</a> <a href="/tags/html/" style="font-size: 1.14em; color: #999b9d">html</a> <a href="/tags/SpringBoot/" style="font-size: 1.14em; color: #999b9d">SpringBoot</a> <a href="/tags/SpringCloud/" style="font-size: 1.26em; color: #999fa8">SpringCloud</a> <a href="/tags/butterfly/" style="font-size: 1.1em; color: #999">butterfly</a> <a href="/tags/Go/" style="font-size: 1.22em; color: #999ea4">Go</a> <a href="/tags/Linux/" style="font-size: 1.3em; color: #99a1ac">Linux</a> <a href="/tags/collections/" style="font-size: 1.34em; color: #99a3b0">collections</a> <a href="/tags/Java/" style="font-size: 1.42em; color: #99a6b7">Java</a> <a href="/tags/exception/" style="font-size: 1.1em; color: #999">exception</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.1em; color: #999">数据结构</a> <a href="/tags/%E5%B0%8F%E7%9F%A5%E8%AF%86/" style="font-size: 1.1em; color: #999">小知识</a> <a href="/tags/Jmeter/" style="font-size: 1.1em; color: #999">Jmeter</a> <a href="/tags/English/" style="font-size: 1.5em; color: #99a9bf">English</a> <a href="/tags/hexo/" style="font-size: 1.14em; color: #999b9d">hexo</a> <a href="/tags/MySQL/" style="font-size: 1.46em; color: #99a7bb">MySQL</a> <a href="/tags/Redis%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 1.1em; color: #999">Redis的数据结构</a> <a href="/tags/markdown/" style="font-size: 1.14em; color: #999b9d">markdown</a> <a href="/tags/dos/" style="font-size: 1.1em; color: #999">dos</a> <a href="/tags/redis/" style="font-size: 1.1em; color: #999">redis</a> <a href="/tags/vscode/" style="font-size: 1.1em; color: #999">vscode</a> <a href="/tags/Hadoop/" style="font-size: 1.1em; color: #999">Hadoop</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 1.22em; color: #999ea4">算法</a> <a href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/" style="font-size: 1.1em; color: #999">微服务</a> <a href="/tags/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/" style="font-size: 1.1em; color: #999">博客搭建</a> <a href="/tags/%E7%BA%BF%E7%A8%8B%E6%B1%A0/" style="font-size: 1.1em; color: #999">线程池</a> <a href="/tags/%E5%A4%9A%E7%BA%BF%E7%A8%8B/" style="font-size: 1.18em; color: #999ca1">多线程</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2016 - 2023 By 然后</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>